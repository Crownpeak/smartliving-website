<CMS_HEADER>
	<CMS_FUNCTION name="Navigation" resultname="fr_navigation">
		<CMS_PARAM name="expansionVisibility" value="all"/>

		<CMS_ARRAY_PARAM name="innerBeginHTML">
			<CMS_ARRAY_ELEMENT index="0">
				<![CDATA[
					<div class="absolute left-0 top-6 transition group-hover:translate-y-5 translate-y-0 
						opacity-0 invisible group-hover:opacity-100 group-hover:visible duration-500 ease-in-out 
						group-hover:transform z-50 transform min-w-full xl:w-10/12 2xl:w-8/12 xl:min-w-0">
							<div class="relative top-6 p-6 bg-white rounded-xl shadow-xl w-full">
								<div class="relative z-10">
									$CMS_SET(set_columnsCount, 0)$
									$CMS_SET(set_inColumn, false)$
									$CMS_FOR(for_subfolder, #nav.folder.getChildren(#nav.folder.class))$										
										$CMS_IF(for_subfolder.getFolderLangSpec(#global.language).isVisible())$
											$CMS_SET(set_subSubfolders, for_subfolder.getChildren(#nav.folder.class).toList()
																			.filter(folder -> folder.getFolderLangSpec(#global.language).isVisible()))$
											$CMS_IF(!set_subSubfolders.isEmpty())$
												$CMS_SET(set_columnsCount, set_columnsCount + 1)$
												$CMS_SET(set_inColumn, false)$
											$CMS_ELSIF(!set_inColumn)$
												$CMS_SET(set_columnsCount, set_columnsCount + 1)$
												$CMS_SET(set_inColumn, true)$					
											$CMS_END_IF$											
										$CMS_END_IF$
									$CMS_END_FOR$
									<div class="grid grid-cols-$CMS_VALUE(set_columnsCount)$ gap-6">
				]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="1">
				<![CDATA[
					<ul class="mt-3 text-[15px]">	
				]]>
			</CMS_ARRAY_ELEMENT>
		</CMS_ARRAY_PARAM>

		<CMS_ARRAY_PARAM name="beginHTML">
			<CMS_ARRAY_ELEMENT index="0">
				<![CDATA[<li class="static group">]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="1">
				<![CDATA[
					$CMS_IF(#nav.hasSubFolders)$
						$CMS_IF(isSet(set_inList) && set_inList)$
							</ul>
						$CMS_END_IF$
						<div>
						$CMS_SET(set_inList, false)$
					$CMS_ELSIF(#nav.isFirst || !set_inList)$
						<ul class="text-[15px]">
						$CMS_SET(set_inList, true)$
					$CMS_END_IF$	
		      	]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="2">
				<![CDATA[<li>]]>
			</CMS_ARRAY_ELEMENT>
		</CMS_ARRAY_PARAM>
	    
		<CMS_ARRAY_PARAM name="selectedHTML">
			<CMS_ARRAY_ELEMENT index="0">
				<![CDATA[
					<a href="$CMS_REF(#nav.ref, abs:1)$" class="block px-3 py-2 hover:opacity-50" $CMS_IF(#nav.hasSubFolders)$aria-haspopup="true"$CMS_END_IF$>
						$CMS_VALUE(#nav.label)$
					</a>
				]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="1">
				<![CDATA[
					$CMS_IF(#nav.hasSubFolders)$
						<a href="$CMS_REF(#nav.ref, abs:1)$"
							class="uppercase tracking-wider text-gray-500 font-medium text-[13px]">
							$CMS_VALUE(#nav.label)$
						</a>
					$CMS_ELSE$
						<li>
							<a href="$CMS_REF(#nav.ref, abs:1)$"
		                        class="text-gray-600 hover:text-gray-800 py-1 block font-normal">
        		                $CMS_VALUE(#nav.label)$
                		    </a>
						</li>
					$CMS_END_IF$		
				]]>
	      </CMS_ARRAY_ELEMENT>
	      <CMS_ARRAY_ELEMENT index="2">
				<![CDATA[
					<a href="$CMS_REF(#nav.ref, abs:1)$"
						class="block p-2 -mx-2 rounded-lg hover:bg-gradient-to-br hover:from-indigo-50 hover:to-pink-50 hover:via-blue-50 
								transition ease-in-out duration-300 text-gray-800 font-semibold hover:text-indigo-600">
							$CMS_VALUE(#nav.label)$
						$CMS_SET(set_pageFormData, #nav.ref.page.formData)$
						$CMS_IF(!set_pageFormData.pt_navigationDescription.isEmpty())$
							<p class="text-gray-500 font-normal">$CMS_VALUE(set_pageFormData.pt_navigationDescription.convert2)$</p>
						$CMS_END_IF$						
					</a>
				]]>
			</CMS_ARRAY_ELEMENT>
		</CMS_ARRAY_PARAM>

		<CMS_ARRAY_PARAM name="unselectedHTML">
			<CMS_ARRAY_ELEMENT index="0">
				<![CDATA[
					<a href="$CMS_REF(#nav.ref, abs:1)$" class="block px-3 py-2 hover:opacity-50" $CMS_IF(#nav.hasSubFolders)$aria-haspopup="true"$CMS_END_IF$>
						$CMS_VALUE(#nav.label)$
					</a>
				]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="1">
				<![CDATA[
					$CMS_IF(#nav.hasSubFolders)$
						<a href="$CMS_REF(#nav.ref, abs:1)$"
							class="uppercase tracking-wider text-gray-500 font-medium text-[13px]">
							$CMS_VALUE(#nav.label)$
						</a>
					$CMS_ELSE$
						<li>
							<a href="$CMS_REF(#nav.ref, abs:1)$"
		                        class="text-gray-600 hover:text-gray-800 py-1 block font-normal">
        		                $CMS_VALUE(#nav.label)$
                		    </a>
						</li>
					$CMS_END_IF$		
				]]>
	      </CMS_ARRAY_ELEMENT>
	      <CMS_ARRAY_ELEMENT index="2">
				<![CDATA[
					<a href="$CMS_REF(#nav.ref, abs:1)$"
						class="block p-2 -mx-2 rounded-lg hover:bg-gradient-to-br hover:from-indigo-50 hover:to-pink-50 hover:via-blue-50 
								transition ease-in-out duration-300 text-gray-800 font-semibold hover:text-indigo-600">
							$CMS_VALUE(#nav.label)$
						$CMS_SET(set_pageFormData, #nav.ref.page.formData)$
						$CMS_IF(!set_pageFormData.pt_navigationDescription.isEmpty())$
							<p class="text-gray-500 font-normal">$CMS_VALUE(set_pageFormData.pt_navigationDescription.convert2)$</p>
						$CMS_END_IF$	
					</a>
				]]>
			</CMS_ARRAY_ELEMENT>
		</CMS_ARRAY_PARAM>

		<CMS_ARRAY_PARAM name="endHTML">
			<CMS_ARRAY_ELEMENT index="0"><![CDATA[</li>]]></CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="1">
				<![CDATA[
					$CMS_IF(#nav.hasSubFolders)$
						</div>
					$CMS_ELSIF(#nav.isLast)$
						</ul>
						$CMS_SET(set_inList, false)$
					$CMS_END_IF$					
				]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="2"><![CDATA[</li>]]></CMS_ARRAY_ELEMENT>	      
		</CMS_ARRAY_PARAM>

		<CMS_ARRAY_PARAM name="innerEndHTML">
			<CMS_ARRAY_ELEMENT index="0">
				<![CDATA[
								</div>
							</div>
						</div>
					</div>
				]]>
			</CMS_ARRAY_ELEMENT>
			<CMS_ARRAY_ELEMENT index="1">
				<![CDATA[
					</ul>
				]]>
			</CMS_ARRAY_ELEMENT>
		</CMS_ARRAY_PARAM>
	</CMS_FUNCTION>
</CMS_HEADER>
$-- Navigation items --$
<ul class="nav-menu hidden lg:flex w-full relative items-end font-semibold">
	<!-- Nav start -->
	$CMS_VALUE(fr_navigation)$
	<!-- Nav end -->
</ul>